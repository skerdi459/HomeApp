<div style="padding-right:15px;" class="container-fluid">
  <div class="intern">
         <div class="row">
           <div class="col">
             <h1>Add Equipment</h1>
             <hr>
           </div>
         </div>
         
       
         <div class="row">
           <form action="" style="width:100%;" [formGroup]="nestedForm">
             <div class="col">
       
               <div class="row">
                          <label for="id"></label>
                         <input type="hidden" formControlName="id" [ngClass]="{'form-control': true,
                         'is-invalid': id.invalid && id.touched,
                         'is-valid': id.valid}" id="id" >
                         
                 <div class="col-6">
                   <div class="form-group">
                     <label for="name"> Name</label>
                     <input type="text" formControlName="name" [ngClass]="{'form-control': true,
                     'is-invalid': name.invalid && name.touched,
                     'is-valid': name.valid}" id="name" placeholder="Enter name of Equipment">
                     <small id="fnHelp" *ngIf="name.errors?.required && name.touched" class="form-text custom-invalid-feedback">Field is required</small>
                     <small id="fnHelp" *ngIf="name.errors?.minlength && name.touched" class="form-text custom-invalid-feedback">Value must contain atleast 2 characters</small>
                   </div>
                 </div>
                 <div class="col-6">
                   <div class="form-group">
                    <label>
                      <input type="radio" value="1" formControlName="state">
                        <span>ON</span>
                    </label>
                    <label>
                      <input type="radio" value="0" formControlName="state">
                        <span>OFF</span>
                    </label>
                     <!-- <input type="number" formControlName="state" [ngClass]="{'form-control': true,
                     'is-invalid': state.invalid && state.touched,
                     'is-valid': state.valid}" id="state" placeholder="Enter state" required> -->
                     <small id="fnHelp" *ngIf="state.invalid && state.touched" class="form-text custom-invalid-feedback">Field is required</small>
                   </div>
                 </div>
  
                 <div class="col-6">
                       <div class="form-group">
                         <label for="type"> Type</label>
                         <input type="text" formControlName="type" [ngClass]="{'form-control': true,
                         'is-invalid': type.invalid && type.touched,
                         'is-valid': type.valid}" id="type" placeholder="Enter Type">
                         <small id="fnHelp" *ngIf="type.invalid && type.touched" class="form-text custom-invalid-feedback">Field is required</small>
                       </div>
                     </div>
                     <div class="col-6">
                       <div class="form-group">
                         <label for="location"> Location</label>
                         <input type="text" formControlName="location" [ngClass]="{'form-control': true,
                         'is-invalid': location.invalid && location.touched,
                         'is-valid': location.valid}" id="location" placeholder="Enter Location">
                         <small id="fnHelp" *ngIf="location.invalid && location.touched" class="form-text custom-invalid-feedback">Field is required</small>
                       </div>
                     </div>
                
               </div>
       
       
               <div class="row">
                 <div class="col">
                   <hr>
                   <p> <button (click)="addAttribute()">Add Attribute </button></p>
                 </div>
               </div>
       
       
               <div class="row" formArrayName="attributes">
                 <div class="col-12" *ngFor="let group of attributeArray.controls; let i = index;" [formGroupName]="i">
                   <div class="row">
                     <div class="col-12">
                       <div class="row">
                         <div class="col-8">
                           <h4>Attribute {{i+1}}</h4>
                         </div>
                         <div class="col-4 control-buttons">
                              
                              <button  (click)="removeAttribute(i)">Remove Attribute</button>
                         </div>
                       </div>
                       <hr>
                     </div>
                     
                     
                         <label for="attributeId"></label>
                         <input type="hidden" formControlName="attributeId" [ngClass]="{'form-control': true,
                             'is-invalid': group.controls.attributeId.invalid && group.controls.attributeId.touched,
                             'is-valid': group.controls.attributeId.valid}" id="attributeId" >
                       
  
                     <div class="col-12">
                       <div class="form-group">
                         <label for="name">Attribute Name</label>
                         <input type="text" formControlName="name" [ngClass]="{'form-control': true,
                             'is-invalid': group.controls.name.invalid && group.controls.name.touched,
                             'is-valid': group.controls.name.valid}" id="name" placeholder="Enter attribute name">
                         <!-- <small *ngIf="group.controls.name.invalid && group.controls.name.touched" class="form-text custom-invalid-feedback">Field is required</small> -->
                       </div>
                     </div>
  
                     <div class="col-12">
                       <div class="row">
                         <div class="col">
                           <div class="form-group">
                             <label for="min">Min</label>
                             <input type="number" formControlName="min" [ngClass]="{'form-control': true,
                             'is-invalid': group.controls.min.invalid && group.controls.min.touched,
                             'is-valid': group.controls.min.valid}" id="min" placeholder="Enter Min">
                             <!-- <small *ngIf="group.controls.min.invalid && group.controls.min.touched" class="form-text custom-invalid-feedback">Field is required</small> -->
                           </div>
                         </div>
  
                         <div class="col">
                              <div class="form-group">
                                <label for="max">Max</label>
                                <input type="number" formControlName="max" [ngClass]="{'form-control': true,
                                'is-invalid': group.controls.max.invalid && group.controls.max.touched,
                                'is-valid': group.controls.max.valid}" id="max" placeholder="Enter Max">
                                <!-- <small *ngIf="group.controls.max.invalid && group.controls.max.touched" class="form-text custom-invalid-feedback">Field is required</small> -->
                              </div>
                            </div>
                    
                            <div class="col">
                              <div class="form-group">
                                <label for="current">Current</label>
                                <input type="number" formControlName="current" [ngClass]="{'form-control': true,
                                'is-invalid': group.controls.current.invalid && group.controls.current.touched,
                                'is-valid': group.controls.current.valid}" id="current" placeholder="Enter Current">
                                <!-- <small *ngIf="group.controls.current.invalid && group.controls.current.touched" class="form-text custom-invalid-feedback">Field is required</small> -->
                              </div>
                            </div>


                            <label for="equipmentId"></label>
                         <input type="hidden" formControlName="equipmentId" [ngClass]="{'form-control': true,
                             'is-invalid': group.controls.equipmentId.invalid && group.controls.equipmentId.touched,
                             'is-valid': group.controls.equipmentId.valid}" id="equipmentId" >
                       
                         
                       </div>
                     </div>
                   </div>
                 </div>
               </div>
       
               <div class="row">
                 <div class="col">
                   <hr>
                 </div>
               </div>
       
               <div class="row justify-content-center">
                 <div class="col-2">
                   <button type="button"  (click)="submitHandler()" class="btn btn-primary">Submit</button>
                 </div>
               </div>
             </div>
           </form>
         </div>
       </div>
  
  </div>